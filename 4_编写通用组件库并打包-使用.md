## 编写通用组件库
### 初始化项目文件
1. 使用简洁webpack命令创建项目文件
```
# 管理员运行powershell或cmd，并进入一个总文件夹（比如C:\codes_vue）内，在执行后，我这里将sass禁用了
vue init webpack-simple jingruizhang-probim-note2
```
2. 管理员身份启动vscode并打开文件夹 jingruizhang-probim-note2
	1. 打开后，按ctrl+j，使用其功能来代替powershell
3. 在src目录下，与assets同级，创建文件夹 myPlugin（这个文件夹用来创建所有组件文件夹）
4. 在myPlugin文件夹下创建第一个组件文件夹 sumFunction ，及其内部文件，创建后，路径如下：
	1. myPlugin/sumFunction/index.js
	2. myPlugin/sumFunction/sum-function.vue
5. 执行 npm i 及 npm run dev 进行测试 ~~这次成功了，失败了就删了再建~~
### 编写.vue文件
1. 编写sum-function.vue文件，代码如下：
```
<template>
  <div class="calculate">
    <p>{{a}}+{{b}}={{sum}}</p>
    <input type="text" v-model="a" style="width:30px;text-align:center" @blur="sumFunc"/>
    <span class="symbol">+</span>
    <input type="text" v-model="b" style="width:30px;text-align:center" @blur="sumFunc"/>
    <span class="symbol" @click="sumFunc"> = </span>
    <span class="item">{{sum}}</span>
  </div>
</template>
<script>
  export default({
    name:'addFunc',
    props:['num1','num2'],
    data() {
      return{
        a: this.num1 ? this.num1 : 0,
        b: this.num2 ? this.num2 : 0,
        sum: 0,
      }
    },
    mounted() {
      this.sumFunc();
    },
    methods:{
      sumFunc() {
        
        let a = Number(this.a);
        let b = Number(this.b);
        if(isNaN(a) || isNaN(b)) {
          
          return;
        }else{
          this.sum = a + b;
          this.$emit('getSumFromChild',this.sum);
        }
      }
    }
  })
</script>
<style>
.calculate{
  width: 100%;
  line-height: 26px;
}
  
</style>
```
2. 编写完后，立即在App.vue中测试，代码如下：~~npm run dev 测试通过~~
```
<template>
  <div id="app">
    <h2>calculate</h2>
    <sum-function :num1="num1" :num2="num2" v-on:getSumFromChild="receiveChildSum"></sum-function>
    
    <p>从子组件获取到的值：{{sumFromChild}}</p>
  </div>
</template>

<script>
import sumFunction from './myPlugin/sumFunction/sum-function'; // 引入
export default {
  name: 'app',
  data () {
    return {
      num1: 4,
      num2: 5,
      sumFromChild:0,
    }
  },
  components:{ //注册插件
    sumFunction
  },
  methods:{
    receiveChildSum(sum){ //自定义事件，接收子组件的和
      this.sumFromChild = sum;
    }
  }
}
</script>

<style>
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
```
